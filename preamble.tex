\renewcommand{\partname}{Module}
\renewcommand{\thepart}{ECM\arabic{part}}
\makeatletter
\@addtoreset{chapter}{part}
\makeatother
\newcommand{\module}[3]{%
    \setcounter{chapter}{0}%
    \setcounter{part}{#1}%
    \addtocounter{part}{-1}%
    \part[#2]{#2\\\vspace{1\baselineskip}\small\emph{#3}}
}

\renewcommand{\arraystretch}{1.2}

\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

\definecolor{gruvbox-black}{HTML}{282828}
\definecolor{gruvbox-white}{HTML}{ebdbb2}
\definecolor{gruvbox-yellow}{HTML}{b57614}
\definecolor{gruvbox-purple}{HTML}{8f3f71}
\definecolor{gruvbox-blue}{HTML}{076678}
\definecolor{gruvbox-green}{HTML}{98971a}
\definecolor{gruvbox-red}{HTML}{cc241d}

\lstset{
    basicstyle=\color{gruvbox-black}\ttfamily,
    keywordstyle=\color{gruvbox-red},
    commentstyle=\color{gruvbox-blue},
    stringstyle=\color{gruvbox-green},
    numberstyle=\tiny\color{gruvbox-black},
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    columns=fullflexible,
    breaklines=true,
    postbreak=\mbox{\textcolor{gray}{\(\hookrightarrow\)}\space},
    escapechar=\$
}

\newcommand*\parttitle{}
\let\origpart\part
\renewcommand*{\part}[2][]{%
    \ifx\\#1\\%
    \origpart{#2}%
        \renewcommand*\parttitle{#2}%
    \else
    \origpart[#1]{#2}%
        \renewcommand*\parttitle{#1}%
    \fi
}
