% !TeX root = main.tex

\documentclass[twoside]{report}

\usepackage[a4paper, margin=1in]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{xcolor, textgreek, hyperref, amssymb, amsmath,  multirow, booktabs, bbold, listings, fancyhdr, titlecaps}

\renewcommand{\partname}{Module}
\renewcommand{\thepart}{ECM\arabic{part}}
\newcommand{\module}[3]{%
    \setcounter{part}{#1}%
    \addtocounter{part}{-1}%
    \part[#2]{#2\\\vspace{1\baselineskip}\small\emph{#3}}%
}

\renewcommand{\arraystretch}{1.2}

\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

\hypersetup{
    pdfauthor={Kit Matthewson},
    pdftitle={The Binary Scrolls},
    pdfpagemode=FullScreen,
    colorlinks=true,
    linkcolor=black,
    filecolor=gray,
    urlcolor=teal,
    citecolor=black,
    breaklinks=false,
}

\lstset{
  basicstyle=\ttfamily,
  numberstyle=\ttfamily\small,
  columns=fullflexible,
  breaklines=false,
  postbreak=\mbox{\textcolor{gray}{\(\hookrightarrow\)}\space},
  escapechar=\$
}

\newcommand*\parttitle{}
\let\origpart\part
\renewcommand*{\part}[2][]{%
   \ifx\\#1\\%
      \origpart{#2}%
      \renewcommand*\parttitle{#2}%
   \else
      \origpart[#1]{#2}%
      \renewcommand*\parttitle{#1}%
   \fi
}

\begin{document}

\begin{titlepage}

    \centering
    \vspace*{\baselineskip}

    \rule{\textwidth}{1.6pt}\vspace*{-\baselineskip}\vspace*{2pt}
    \rule{\textwidth}{0.4pt}

    \vspace{0.75\baselineskip}

    {\scshape\LARGE THE BINARY SCROLLS}

    \rule{\textwidth}{0.4pt}\vspace*{-\baselineskip}\vspace{3.2pt}
    \rule{\textwidth}{1.6pt}

    \vspace{2\baselineskip}

    Notes on the University of Exeter Computer Science course.

    \vspace*{5\baselineskip}

    Composed by the Sage of the Codes

    \vspace{0.5\baselineskip}

    {\scshape\Large Kit Matthewson}

    \vspace{1\baselineskip}

    As Unveiled to Him By

    \vspace{0.5\baselineskip}

    {\scshape\Large Jah}

    \vspace{10\baselineskip}

    Dedicated to

        {\scshape\normalsize His Imperial Majesty King Haile Selassie I\\Defender of the Faith,\\Reincarnation of the Son.}

    \vspace{12\baselineskip}

    As Declared on \today

\end{titlepage}

\tableofcontents

\clearpage

\pagestyle{fancy}
\fancyhead{}
\fancyhead[RE, LO]{The Binary Scrolls}
\fancyhead[LE, RO]{\parttitle: \leftmark}
\fancyfoot{}
\fancyfoot[C]{\thepage}

\input{ECM1011/part.tex}
\input{ECM1400/part.tex}
\input{ECM1407/part.tex}
\input{ECM1415/part.tex}

\end{document}
